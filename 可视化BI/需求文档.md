# 需求说明

[飞书文档](https://kazkmjbq0ir.feishu.cn/wiki/OZF5wK7gXiz5TFkn5xNcamZsnmd?from=from_copylink)

## 1. 项目概述

### 1.1 项目背景

本项目旨在为安徽电力交易中心建设一个现代化的电力交易可视化 BI 系统。该系统将帮助分析师和调度人员更好地理解和分析电力交易数据，提高决策效率。

### 1.2 项目目标

- 构建前后端分离的 Web 应用系统
- 实现电力交易数据的可视化展示
- 提供直观的数据分析工具
- 支持灵活的数据查询和筛选

### 1.3 目标用户

- 电力交易分析师
- 电网调度人员
- 电力交易中心管理人员

## 2. 用户故事

### 2.1 分析师视角

- 作为分析师，我希望能够查看新能源出力预测趋势，以便评估可再生能源的发电情况
- 作为分析师，我需要对比预测负荷和实际负荷，以便分析预测准确度
- 作为分析师，我想要查看特定时间段的数据详情，以进行深入分析

### 2.2 调度人员视角

- 作为调度人员，我需要实时监控系统备用容量，以确保电网安全
- 作为调度人员，我要查看电力供需平衡预测，以便及时调整调度计划
- 作为调度人员，我希望能够快速获取非市场化机组的出力数据，以优化调度策略

## 3. 功能需求

### 3.1 数据展示功能

1. **基础数据显示**

   - 展示日期、时间点数据
   - 显示所有电力指标数值
   - 支持数据表格形式展示

2. **数据筛选功能**

   - 按时间范围筛选（最小粒度 15 分钟）
   - 支持指标项的选择性显示
   - 提供数据导出功能

3. **图表可视化**
   - 折线图展示：
     - 新能源总出力预测趋势
     - 风电和光电出力对比
     - 负荷预测与实际负荷对比
   - 柱状图展示：
     - 电力供需平衡分析
     - 各类型发电出力对比
   - 图表交互功能：
     - 数据点悬停提示
     - 缩放和平移
     - 图例切换

### 3.2 数据管理功能

1. **API 接口**

   - 获取电力数据列表
   - 按时间范围查询数据
   - 聚合数据统计

2. **数据处理**
   - 数据格式化
   - 异常值处理
   - 缺失值处理

## 5. 技术要求

### 5.1 前端技术栈

- React.js 框架
- Chart.js 图表库
- Axios 请求库
- 响应式 UI 框架

### 5.2 后端技术栈

- Node.js + Express
- Sequelize ORM
- MySQL 8.0 数据库
- RESTful API 设计

## 6. 数据需求

### 6.1 数据源

- 安徽电力交易中心 2025 年 2 月 1 日数据
- 15 分钟间隔的时间序列数据
- MySQL 数据库存储

### 6.2 数据格式

参考数据库表结构，包含以下主要字段：

- 日期、时间
- 水电出力预测
- 负荷预测
- 新能源出力预测
- 实际负荷数据
- 系统备用信息

```json
[
  {
    "日期": "2025-02-01",
    "时间": "00:15",
    "日前水电含抽蓄发电出力预测_MW": "56",
    "日前各交易时段负荷预测_MW": "25529",
    "日前发电总出力预测_MW": null,
    "日前各交易时段外来_外送_电交易计划_MW": "4417.00100000",
    "日前非市场化机组出力_MW": null,
    "新能源总出力预测数值": "3182.38060000",
    "光电总出力预测数值": "0.00000000",
    "风电总出力预测数值": "3182.38060000",
    "日前电力供需平衡预测": null,
    "次周新能源出力预测": "2933.93400200",
    "日前_实时各交易时段出清总电量及均价": null,
    "电网实际负荷实时系统备用信息_负荷": "25234.80000000",
    "电网实际负荷实时系统备用信息_正备用": "8033.36000000",
    "电网实际负荷实时系统备用信息_负备用": "6052.30000000",
    "非市场化机组实际出力曲线": "3714.37130000"
  }
]
```

### 非功能需求

1. **性能要求**
   - 页面首次加载时间 < 2 秒
   - API 响应时间 < 500ms
   - 图表渲染时间 < 1 秒
   - 支持 50+ 用户同时在线
   - 单次查询记录数 ≤ 1000
   - 图表数据点 ≤ 500
